(this["webpackJsonptrade-goods-calc"]=this["webpackJsonptrade-goods-calc"]||[]).push([[0],{56:function(e,t,a){e.exports=a(65)},61:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),c=(a(61),a(41)),i=a(40),m=a(95),d=a(98),u=a(100),s=a(113),f=a(104),p=a(103),E=a(105),h=a(106),v=a(107),b=a(108),g=a(109),y=a(112),x=a(115),G=a(101),S=function(e){var t=Math.floor(e/100),a=e%100,n=Math.floor(a/10),o=Math.floor(a%10),r="";return 0!==t&&(r+="".concat(t,"\xa0gp ")),0!==n&&(r+="".concat(n,"\xa0sp ")),0!==o&&(r+="".concat(o,"\xa0cp")),r.trim()},w=function(e){var t=Math.floor(100*e);return t>=0?"+".concat(t,"%"):"".concat(t,"%")},M=Object(m.a)((function(e){return{root:{flexGrow:1},grid:{marginBottom:e.spacing(2)},button:{marginRight:e.spacing(1)}}})),k=function(e){var t=M(),a=e.tradeGoods||[],r=e.demandLevels||[],l=Math.floor(r.length/2),m=Object(n.useState)(a.map((function(e){return{tradeGood:e,demand:l,isSpeciality:!1,units:1}}))),k=Object(i.a)(m,2),C=k[0],N=k[1],j=Object(n.useState)(0),O=Object(i.a)(j,2),R=O[0],B=O[1],T=Object(n.useState)(0),D=Object(i.a)(T,2),P=D[0],q=D[1],I=function(e){return Math.floor(Math.random()*e)+1},W=function(e){return r[e.demand].modifier+R+P};return o.a.createElement("div",{className:t.root},o.a.createElement(d.a,{container:!0,spacing:1,className:t.grid},o.a.createElement(d.a,{item:!0,xs:12,sm:8},o.a.createElement(u.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){var e=a.map((function(e,t){var a=I(20);return console.log("Rolled ".concat(a," for demand of ").concat(e.title)),{tradeGood:e,demand:r.findIndex((function(e){return a<=e.maxRoll})),isSpeciality:!1,units:C[t].units}})),t=I(2);console.log("Rolled ".concat(t," for speciality item")),t>1&&(e[I(e.length)-1].isSpeciality=!0),N(e)}},"Roll Local Economy"),o.a.createElement(u.a,{className:t.button,variant:"contained",color:"primary",onClick:function(e){var t="[table]\n";t+="[tr]",t+="[th]Trade Good[/th]",t+="[th]Base Price[/th]",t+="[th]Demand[/th]",t+="[th]Is Speciality[/th]",t+="[/tr]\n",C.forEach((function(e){var a=r[e.demand];t+="[tr]",t+="[td]".concat(e.tradeGood.title,"[/td]"),t+="[td]".concat(S(e.tradeGood.price),"[/td]"),t+="[td]".concat(a.title,"[/td]"),t+="[td]".concat(e.isSpeciality?"Yes":"No","[/td]"),t+="[/tr]\n"})),t+="[/table]",navigator.clipboard.writeText(t)}},"Copy BBCode"),o.a.createElement(u.a,{className:t.button,variant:"contained",color:"primary",onClick:function(e){var t="";t+="| Trade Good | Base Price | Demand | Is Speciality |\n",t+="|:---|:---:|:---:|:---:|\n",C.forEach((function(e){var a=r[e.demand];t+="| ",t+="".concat(e.tradeGood.title," | "),t+="".concat(S(e.tradeGood.price)," | "),t+="".concat(a.title," | "),t+="".concat(e.isSpeciality?"Yes":"No","|\n")})),navigator.clipboard.writeText(t)}},"Copy Markdown")),o.a.createElement(d.a,{item:!0,xs:6,md:2},o.a.createElement(s.a,{label:"Trade Check Modifier",fullWidth:!0,type:"number",value:R,min:"-0.2",max:"0.2",step:"0.5",onChange:function(e){return B(parseFloat(e.target.value))}})),o.a.createElement(d.a,{item:!0,xs:6,md:2},o.a.createElement(s.a,{label:"Speciality Modifier",fullWidth:!0,type:"number",value:P,min:"0",max:"0.2",step:"0.5",onChange:function(e){return q(parseFloat(e.target.value))}}))),o.a.createElement(f.a,{component:p.a},o.a.createElement(E.a,{"aria-label":"simple table"},o.a.createElement(h.a,null,o.a.createElement(v.a,null,o.a.createElement(b.a,null,"Trade Good"),o.a.createElement(b.a,null,"Base Price"),o.a.createElement(b.a,null,"Demand"),o.a.createElement(b.a,null,"Demand Modifier"),o.a.createElement(b.a,null,"Speciality"),o.a.createElement(b.a,null,"Total Price Modifier"),o.a.createElement(b.a,{size:"small"},"Units"),o.a.createElement(b.a,null,"Price"))),o.a.createElement(g.a,null,C.map((function(e,t){var a=r[e.demand]||r[l];return o.a.createElement(v.a,{key:e.tradeGood.title},o.a.createElement(b.a,{component:"th",scope:"row"},e.tradeGood.title),o.a.createElement(b.a,null,S(e.tradeGood.price)),o.a.createElement(b.a,null,o.a.createElement(y.a,{value:e.demand,onChange:function(e){return function(e,t){var a=Object(c.a)(C);a[t].demand=e.target.value,N(a)}(e,t)}},r.map((function(e,t){return o.a.createElement(x.a,{key:t,value:t},e.title)})))),o.a.createElement(b.a,null,w(a.modifier)),o.a.createElement(b.a,null,e.isSpeciality?"Yes":"No"),o.a.createElement(b.a,null,w(W(e))),o.a.createElement(b.a,null,o.a.createElement(G.a,{size:"small",type:"number",placeholder:"Units",value:e.units,onChange:function(e){return function(e,t){var a=Object(c.a)(C);a[t].units=e.target.value,N(a)}(e,t)}})),o.a.createElement(b.a,null,S(function(e){var t=1+W(e);return Math.max(1,e.tradeGood.price*t*e.units)}(e))))}))))))},C=[{title:"1 lb. of wheat",price:1},{title:"1 lb. of flour",price:2},{title:"1 lb. of salt",price:5},{title:"1 lb. of iron",price:10},{title:"1 sq. yd. of canvas",price:10},{title:"1 sq. yd. of cotton cloth",price:50},{title:"1 lb. of ginger",price:100},{title:"1 lb. of cinnamon",price:200},{title:"1 lb. of pepper",price:200},{title:"1 lb. of cloves",price:300},{title:"1 sq. yd. of linen",price:500},{title:"1 sq. yd. of silk",price:1e3},{title:"1 lb. of saffron",price:1500}],N=[{title:"Extreme Demand",modifier:.15,maxRoll:1},{title:"High Demand",modifier:.1,maxRoll:5},{title:"Neutral",modifier:0,maxRoll:14},{title:"Surplus",modifier:-.1,maxRoll:19},{title:"Extreme Surplus",modifier:-.15,maxRoll:20}],j=a(110),O=a(111),R=Object(m.a)((function(e){return{root:{flexGrow:1},toolbar:e.mixins.toolbar}})),B=function(){var e=R();return o.a.createElement("div",{className:e.root},o.a.createElement(j.a,null),o.a.createElement("div",{className:e.toolbar}),o.a.createElement(O.a,null,o.a.createElement(k,{tradeGoods:C,demandLevels:N})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.6e928b61.chunk.js.map